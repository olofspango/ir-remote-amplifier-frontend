<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" type="text/css" href="index.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.materialdesignicons.com/5.1.45/css/materialdesignicons.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote</title>
</head>
<body>
    <h1>Yamaha RAS13 Remote</h1>    
    <div class="volume container">
        <h3>Volume Controls</h3>
        <button class="volume mdi mdi-volume-plus" ontouchstart="holdHandler(this, true)" ontouchend="holdHandler(this, false)" onmousedown="holdHandler(this, true)" onmouseup="holdHandler(this, false)" name="VOLUMEUP">Volume Up</button>
        <button class="volume mdi mdi-volume-minus" ontouchstart="holdHandler(this, true)" ontouchend="holdHandler(this, false)" onmousedown="holdHandler(this, true)" onmouseup="holdHandler(this, false)" name="VOLUMEDOWN">Volume Down</button>
        <button class="volume mdi mdi-volume-mute" onclick="buttonHandler(this)" name="MUTE">Mute</button>
    </div>
    
    <div class="input container">
        <h3>Input Selector</h3>

        <button class="input mdi mdi-television-classic" onclick="buttonHandler(this)" name="LINE1">TV</button>
        <!-- <button class="input" onclick="buttonHandler(this)" name="LINE2">Line 2</button>
        <button class="input" onclick="buttonHandler(this)" name="LINE3">Line 3</button> -->
        <button class="input mdi mdi-disc" onclick="buttonHandler(this)" name="CD">CD</button>
        <button class="input mdi mdi-google-chrome" onclick="buttonHandler(this)" name="OPTICAL"> Chromecast </button>
        <!-- <button class="input" onclick="buttonHandler(this)" name="COAXIAL">Coaxial</button>
        <button class="input" onclick="buttonHandler(this)" name="TUNER">Tuner</button>
        <button class="input" onclick="buttonHandler(this)" name="PHONO">Phono</button> -->
    </div>
    <div class="cd container">
        <h3>CD</h3>
        <!-- <button class="cd" onclick="buttonHandler(this)" name="CD_POWER">CD Power</button> -->
        <div class="cdcontrols">
            <button class="cd mdi mdi-play" onclick="buttonHandler(this)" name="PLAY"></button>
            <button class="cd mdi mdi-pause" onclick="buttonHandler(this)" name="PAUSE"></button>
            <button class="cd mdi mdi-stop" onclick="buttonHandler(this)" name="STOP"></button>
        </div>
        <div class="cdcontrols">
            <button class="cd mdi mdi-skip-backward" onclick="buttonHandler(this)" name="PREV"></button>
            <button class="cd mdi mdi-rewind" ontouchstart="holdHandler(this, true)" ontouchend="holdHandler(this, false)" onmousedown="holdHandler(this, true)" onmouseup="holdHandler(this, false)"name="REWIND"></button>
            <button class="cd mdi mdi-fast-forward" ontouchstart="holdHandler(this, true)" ontouchend="holdHandler(this, false)" onmousedown="holdHandler(this, true)" onmouseup="holdHandler(this, false)"name="FORWARD"></button>
            <button class="cd mdi mdi-skip-forward" onclick="buttonHandler(this)" name="NEXT"></button>
        </div>
    </div>
    <div class="power container">
        <h3>Power</h3>
        <button class="power mdi mdi-power-standby" onclick="buttonHandler(this)" name="STANDBY">Amplifier</button>
        <button class="power mdi mdi-power-standby" onclick="buttonHandler(this)" name="SONY_POWER">TV</button>
    </div>

</body>
</html>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script>    
    window.oncontextmenu = function(event) {
        event.preventDefault();
        event.stopPropagation();
        return false;
    };

    // const baseRemoteAPIURL = "http://localhost/"
    function buttonHandler(e) {
        axios.get("/remote/" + e.name + "/click").then(response => {
            console.log(response);
        }).catch(e => {
            console.log(e);
        })
    }

    function holdHandler(e, toggle) {
        console.log("HOLDHANDLER")
        console.log("/remote/" + e.name + (toggle ? "/start" : "/stop"))

        axios.get("/remote/" + e.name + (toggle ? "/start" : "/stop")).then(response => {
        console.log(response);
        }).catch(e => {
            console.log(e);
        })
    }
</script> 
